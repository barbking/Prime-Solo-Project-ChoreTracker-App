myApp.service("bookService",["$http",function($http){var self=this;self.books={list:[]},self.userbooks={list:[]},self.addBook=function(data){return console.log("data to save is:",data),$http({method:"POST",url:"/books",data:data}).then(function(response){console.log("in service for addSeed with response--\x3e",response),self.getUserBooks().then(function(){return console.log("in service for addBook with response--\x3e",response),console.log("self.userbooks from getUserBooks:",self.userbooks),response})},function(response){console.log("Error in addBook:",response),403===response.status&&$location.path("/")})},self.getBooks=function(){return console.log("in booksService get"),$http({method:"GET",url:"/books"}).then(function(response){return self.books.list=response.data,console.log("self.books from getBooks:",self.books),self.books})},self.getBooks(),self.getUserBooks=function(){return console.log("in getUserBooks get"),$http({method:"GET",url:"/books/userbooks"}).then(function(response){self.userbooks.list=response.data,console.log("self.userbooks from getUserBooks:",self.userbooks.list)})},self.getUserBooks(),self.deleteBook=function(id){return console.log("in deleteBook"),console.log("deleteBook:",id),$http({method:"DELETE",url:"/books/"+id}).then(function(response){console.log(response),self.getUserBooks()})},self.updateBook=function(book){return console.log("in updateBook http request:",book),$http({method:"POST",url:"/books/update",data:book}).then(function(response){console.log(response),self.getBooks()})}}]);